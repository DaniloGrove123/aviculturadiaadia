const express = require('express');
const serverless = require('serverless-http');

const app = express();

// Middleware para parsing de JSON
app.use(express.json());

// Rotas da sua aplicação (exemplo)
app.get('/api/hello', (req, res) => {
  res.json({ message: 'Hello from Avicultura Dia a Dia!' });
});

// Importe suas rotas existentes (ex.: rotas de autenticação, coletas, etc.)
const authRoutes = require('../server/routes/auth'); // Ajuste o caminho conforme sua estrutura
app.use('/api/auth', authRoutes);

// Exporte o app como uma função serverless
module.exports = serverless(app);